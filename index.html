<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Guru Tech Marketing ‚Äî Home</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <!-- floating blurred background shape -->
  <svg class="bg-shape" aria-hidden="true" viewBox="0 0 520 420">
    <defs>
      <linearGradient id="g1" x1="0" x2="1"><stop offset="0" stop-color="#ff6a2d"/><stop offset="1" stop-color="#ff3c00"/></linearGradient>
      <filter id="blur1"><feGaussianBlur stdDeviation="36"/></filter>
    </defs>
    <circle cx="260" cy="200" r="160" fill="url(#g1)" filter="url(#blur1)"></circle>
  </svg>

  <div class="page-wrap">
    <header class="site-header">
      <div class="brand">
        <div class="logo-text">GURU TECH LAB</div>
        <div class="tagline">Digital Services</div>
      </div>

      <nav class="top-nav" role="navigation" aria-label="Main">
        <a class="nav-btn" href="index.html">Home</a>
        <a class="nav-btn" href="services.html">Services</a>
        <a class="nav-btn" href="boosting.html">Boosting</a>
        <a class="nav-btn" href="pricing.html">Pricing</a>
        <a class="nav-btn" href="contact.html">Contact</a>
      </nav>
    </header>

    <!-- Central glass card hero (A4) -->
    <main class="hero-wrap" role="main">
      <div class="hero-card" role="region" aria-label="Hero">
        <div class="hero-top">
          <div class="hero-logo">
            <div class="hero-logo-text">GURU TECH LAB</div>
            <div class="hero-sub">Digital Services</div>
          </div>
          <div class="hero-cta">
            <button id="get-started" class="primary-btn">Get Started</button>
            <button id="music-toggle" class="secondary-btn">üîä Play Music</button>
          </div>
        </div>

        <div class="hero-body">
          <p class="hero-lead">Premium, fast digital services ‚Äî social boosting, websites, bots, branding. Prices adapt to your country.</p>

          <div class="controls-row">
            <label for="country-select" class="muted">Prices shown for</label>
            <select id="country-select" class="country-select" aria-label="Select country">
              <option value="AUTO">Auto-detect</option>
              <option value="KE">Kenya (KES)</option>
              <option value="NG">Nigeria (NGN)</option>
              <option value="US">USA (USD)</option>
              <option value="GB">UK (GBP)</option>
              <option value="ZA">South Africa (ZAR)</option>
              <option value="IN">India (INR)</option>
            </select>
            <div id="price-status" class="price-status muted" aria-live="polite">Detecting country & rates‚Ä¶</div>
          </div>

          <!-- service cards inside the hero card -->
          <div class="services-grid" role="list">
            <!-- Social Boosting -->
            <a class="svc-card" href="boosting.html" role="listitem" aria-label="Social Media Boosting">
              <div class="svc-icon">
                <!-- Instagram colored SVG (example composite) -->
                <svg viewBox="0 0 24 24" width="42" height="42" aria-hidden="true">
                  <defs><linearGradient id="igG" x1="0" x2="1"><stop offset="0" stop-color="#f58529"/><stop offset="1" stop-color="#dd2a7b"/></linearGradient></defs>
                  <rect x="2" y="2" width="20" height="20" rx="5" fill="url(#igG)"></rect>
                  <circle cx="12" cy="12" r="4" fill="#fff" opacity="0.12"></circle>
                </svg>
              </div>
              <div class="svc-title">Social Media Boosting</div>
              <div class="svc-sub muted">Followers, likes & views</div>
              <div class="svc-price" data-price-ksh="700">‚Äî</div>
            </a>

            <!-- Website -->
            <a class="svc-card" href="website.html" role="listitem" aria-label="Website Development">
              <div class="svc-icon">
                <svg viewBox="0 0 24 24" width="42" height="42" aria-hidden="true">
                  <rect x="3" y="5" width="18" height="12" rx="1.5" fill="#6ec1ff"></rect>
                  <rect x="6" y="8" width="12" height="6" rx="1" fill="#fff" opacity="0.06"></rect>
                </svg>
              </div>
              <div class="svc-title">Website Development</div>
              <div class="svc-sub muted">Landing pages & e-commerce</div>
              <div class="svc-price" data-price-ksh="1200">‚Äî</div>
            </a>

            <!-- Bots -->
            <a class="svc-card" href="bots.html" role="listitem" aria-label="Automation & Bots">
              <div class="svc-icon">
                <svg viewBox="0 0 24 24" width="42" height="42" aria-hidden="true">
                  <rect x="4" y="6" width="16" height="12" rx="2" fill="#7cffb2"></rect>
                  <circle cx="9" cy="11" r="1.6" fill="#000" opacity="0.12" />
                  <circle cx="15" cy="11" r="1.6" fill="#000" opacity="0.12" />
                </svg>
              </div>
              <div class="svc-title">Automation & Bots</div>
              <div class="svc-sub muted">WhatsApp bots & tools</div>
              <div class="svc-price" data-price-ksh="500">‚Äî</div>
            </a>

            <!-- Branding -->
            <a class="svc-card" href="branding.html" role="listitem" aria-label="Branding & Digital Setup">
              <div class="svc-icon">
                <svg viewBox="0 0 24 24" width="42" height="42" aria-hidden="true">
                  <path d="M12 3C8 3 5 6 5 10c0 3 2 5 5 5h1c3 0 5-2 5-5 0-1.66-1.34-3-3-3h-4" fill="#ffb86b"></path>
                </svg>
              </div>
              <div class="svc-title">Branding & Digital Setup</div>
              <div class="svc-sub muted">Logos, social kits</div>
              <div class="svc-price" data-price-ksh="300">‚Äî</div>
            </a>
          </div>
        </div>
      </div>
    </main>

    <div class="contact-row">
      <a class="contact-btn whatsapp" href="https://wa.me/254763986398">üü¢ WhatsApp</a>
      <a class="contact-btn email" href="mailto:akidarajab462@gmail.com">‚úâÔ∏è Email</a>
      <a class="contact-btn instagram" href="https://instagram.com">üì∏ Instagram</a>
    </div>

    <footer class="site-footer">¬© <span id="year"></span> GURU TECH LAB ‚Äî Digital Services</footer>
  </div>

  <!-- hidden audio element: script.js will try to use it first, otherwise WebAudio fallback -->
  <audio id="bg-audio" loop preload="auto">
    <source src="assets/ambient.mp3" type="audio/mp3">
  </audio>

  <!-- country price conversion (uses exchangerate.host + ipapi.co) -->
  <script>
    (function(){
      const currencySymbols = { KES: 'KSH', NGN: '‚Ç¶', USD: '$', GBP: '¬£', ZAR: 'R', INR: '‚Çπ' };
      const countryToCurrency = { KE: 'KES', NG: 'NGN', US: 'USD', GB: 'GBP', ZA: 'ZAR', IN: 'INR' };
      const select = document.getElementById('country-select');
      const status = document.getElementById('price-status');
      const priceEls = Array.from(document.querySelectorAll('.svc-price'));
      let rates = null;

      function numberWithCommas(x){
        if (typeof x === 'number') x = x.toString();
        const parts = x.split('.');
        parts[0] = parts[0].replace(/\B(?=(\d{3})+(?!\d))/g, ",");
        return parts.join('.');
      }

      function setPriceDisplays(cur='KES'){
        priceEls.forEach(el=>{
          const base = parseFloat(el.dataset.priceKsh || el.getAttribute('data-price-ksh') || '0');
          if (!rates || cur==='KES') {
            el.textContent = `${base} ${currencySymbols.KES}`;
            return;
          }
          const rate = rates[cur];
          if (!rate) { el.textContent = `${base} ${currencySymbols.KES}`; return; }
          const converted = Math.round((base * rate) * 100) / 100;
          el.textContent = `${currencySymbols[cur] || cur} ${numberWithCommas(converted)}`;
        });
      }

      async function fetchRates(){
        status.textContent = 'Fetching exchange rates‚Ä¶';
        try {
          const res = await fetch('https://api.exchangerate.host/latest?base=KES&symbols=USD,NGN,GBP,ZAR,INR,KES');
          if (!res.ok) throw new Error('Rates fetch failed');
          const d = await res.json();
          rates = d.rates;
          status.textContent = 'Prices converted';
          return true;
        } catch(e){ console.warn(e); rates=null; status.textContent='Conversion unavailable ‚Äî showing KSH'; return false; }
      }

      async function detectCountry(){
        status.textContent = 'Detecting country‚Ä¶';
        try {
          const r = await fetch('https://ipapi.co/json/');
          if (!r.ok) throw new Error('geo failed');
          const data = await r.json();
          return data && data.country;
        } catch(e){ console.warn(e); return null; }
      }

      async function updateFlow(sel){
        if (sel==='AUTO') {
          const country = await detectCountry();
          const cur = country && countryToCurrency[country] ? countryToCurrency[country] : 'KES';
          status.textContent = cur==='KES' ? 'Showing KSH' : `Showing ${cur}`;
          if (cur!=='KES') { const ok = await fetchRates(); if(ok) setPriceDisplays(cur); else setPriceDisplays('KES'); }
          else setPriceDisplays('KES');
        } else {
          const cur = countryToCurrency[sel] || 'KES';
          status.textContent = cur==='KES' ? 'Showing KSH' : `Showing ${cur}`;
          if (cur!=='KES') { const ok = await fetchRates(); if(ok) setPriceDisplays(cur); else setPriceDisplays('KES'); }
          else setPriceDisplays('KES');
        }
      }

      (async function init(){
        select.value='AUTO';
        setPriceDisplays('KES');
        await updateFlow('AUTO');
      })();

      select.addEventListener('change', ()=> updateFlow(select.value));
      window._gtPricing = { updateFlow };
    })();
  </script>

  <!-- autoplay-on-touch & music toggle hooking into script.js (which provides WebAudio fallback) -->
  <script>
    (function(){
      const musicBtn = document.getElementById('music-toggle');
      function startAudioOnce() {
        setTimeout(()=> {
          if (window._guruAudio && typeof window._guruAudio.start === 'function') {
            window._guruAudio.start();
            musicBtn && (musicBtn.textContent = 'üîä Music On');
            return;
          }
          const el = document.getElementById('bg-audio');
          if (el) { el.volume = 0.25; el.play().then(()=>musicBtn && (musicBtn.textContent='üîä Music On')).catch(()=>musicBtn && (musicBtn.textContent='üîä Play Music')); }
        },30);
        window.removeEventListener('pointerdown', startAudioOnce);
        window.removeEventListener('touchstart', startAudioOnce);
        window.removeEventListener('keydown', startAudioOnce);
      }
      window.addEventListener('pointerdown', startAudioOnce, {passive:true});
      window.addEventListener('touchstart', startAudioOnce, {passive:true});
      window.addEventListener('keydown', startAudioOnce);

      if (musicBtn) musicBtn.addEventListener('click', function(){
        if (window._guruAudio && window._guruAudio.status && window._guruAudio.status().started) { window._guruAudio.stop(); musicBtn.textContent='üîà Paused'; return; }
        if (window._guruAudio && window._guruAudio.start) { window._guruAudio.start(); musicBtn.textContent='üîä Music On'; return; }
        const el = document.getElementById('bg-audio'); if (!el) return;
        if (el.paused) { el.play().then(()=>musicBtn.textContent='üîä Music On').catch(()=>musicBtn.textContent='üîä Play Music'); } else { el.pause(); musicBtn.textContent='üîà Paused'; }
      });

      // year
      document.addEventListener('DOMContentLoaded', ()=>{ const y = document.getElementById('year'); if(y) y.textContent = new Date().getFullYear(); });
    })();
  </script>

  <!-- load robust audio script (below) -->
  <script src="script.js"></script>
</body>
</html>
