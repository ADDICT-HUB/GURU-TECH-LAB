<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" />
<title>Social Media Boosting â€” Guru Tech Lab</title>
<style>
  :root{
    --accent: #ff3c00;       /* main orange */
    --accent-2: #ffb86b;     /* warm secondary */
    --muted: rgba(255,255,255,0.65);
    --glass: rgba(255,255,255,0.03);
    --glass-border: rgba(255,255,255,0.04);
    --buy-grad: linear-gradient(180deg,var(--accent),#ff4f1e);
    --blue-pill: #00b0ff;
    --yellow-pill: #ffd24a;
  }
  html,body{height:100%;margin:0;font-family:Inter,system-ui,Arial,sans-serif;background:#031025;color:#fff;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;}
  .page{max-width:1100px;margin:18px auto;padding:18px;}
  header.site-header{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:8px}
  .brand .logo-text{font-weight:900;letter-spacing:0.4px}
  .brand .tag{color:var(--muted);font-size:13px}
  nav.top-nav a{color:var(--muted);text-decoration:none;margin-left:12px;font-weight:700}

  /* hero / intro */
  .hero {
    background: linear-gradient(180deg, rgba(255,255,255,0.015), rgba(255,255,255,0.01));
    border-radius:14px;padding:18px;border:1px solid var(--glass-border); box-shadow:0 30px 60px rgba(2,6,23,0.7);
    display:flex;gap:12px;align-items:center;justify-content:space-between;margin-bottom:16px;
  }
  .hero .left { max-width:62%; }
  .hero h1{margin:4px 0 6px;color:var(--accent);font-size:20px}
  .hero p{margin:0;color:var(--muted)}

  /* service cards grid (floating glass) */
  .cards {
    display:grid;grid-template-columns:repeat(1,1fr);gap:12px;
  }
  @media(min-width:760px){ .cards{grid-template-columns:repeat(2,1fr);} }

  .card {
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border-radius:14px;padding:14px;border:1px solid var(--glass-border);box-shadow:0 18px 40px rgba(2,6,23,0.55);
    display:flex;align-items:center;gap:12px;justify-content:space-between;
  }
  .card .meta{flex:1;padding-left:8px}
  .svc-title{font-weight:800;font-size:16px;color:#fff}
  .svc-sub{font-size:13px;color:var(--muted);margin-top:6px}

  .icon-box{width:62px;height:62px;border-radius:12px;display:flex;align-items:center;justify-content:center;
    background: linear-gradient(135deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
    box-shadow: 0 10px 30px rgba(0,0,0,0.45), inset 0 6px 18px rgba(255,255,255,0.02);}

  .view-price { margin-left:12px;padding:8px 12px;border-radius:12px;border:0;background:var(--buy-grad);color:#fff;font-weight:900;cursor:pointer;box-shadow:0 10px 24px rgba(255,76,20,0.18) }
  .view-price small{font-weight:700}

  /* price listing inside modal */
  .modal-backdrop{position:fixed;inset:0;background:rgba(2,6,23,0.62);display:none;align-items:center;justify-content:center;padding:18px;z-index:1200;backdrop-filter:blur(6px)}
  .modal-backdrop.open{display:flex}
  .modal {
    width:100%;max-width:960px;max-height:86vh;overflow:auto;border-radius:14px;padding:18px;border:1px solid var(--glass-border);
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    box-shadow:0 30px 80px rgba(2,6,23,0.7);
    position:relative;
  }
  .modal h2{color:var(--accent);margin:0 0 8px 0}
  .close-btn{position:absolute;right:14px;top:12px;background:transparent;border:0;color:var(--muted);font-size:20px;cursor:pointer}

  .price-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:12px}
  @media(max-width:720px){ .price-grid{grid-template-columns:1fr} }
  .price-block{background:rgba(0,0,0,0.3);padding:12px;border-radius:10px;border:1px solid rgba(255,255,255,0.02)}
  .price-block h4{margin:0;color:#fff;font-size:15px}
  .price-block ul{list-style:none;padding:8px 0 0 0;margin:0}
  .price-block li{padding:6px 0;border-bottom:1px dashed rgba(255,255,255,0.02);font-weight:700;display:flex;justify-content:space-between;align-items:center;gap:8px}
  .price-block li:last-child{border-bottom:0}

  /* buy button inline */
  .buy-inline {
    background: linear-gradient(90deg,#ffd24a,#00b0ff);
    border:0;padding:8px 10px;border-radius:10px;color:#071018;font-weight:900;cursor:pointer;
    box-shadow:0 10px 20px rgba(0,0,0,0.35);
  }

  /* payment popup */
  .pay-card{width:420px;max-width:95%;margin:0 auto;padding:14px;background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));border-radius:12px;border:1px solid var(--glass-border);backdrop-filter: blur(6px)}
  .pay-row{display:flex;gap:8px;align-items:center;margin-bottom:8px}
  label{color:var(--muted);font-size:13px}
  input[type="tel"], input[type="text"]{width:100%;padding:10px;border-radius:8px;border:0;background:rgba(255,255,255,0.03);color:#fff}
  .pay-btn{background:var(--buy-grad);border:0;color:#fff;padding:10px 12px;border-radius:10px;font-weight:900;cursor:pointer;width:100%}
  .muted{color:var(--muted);font-size:13px}
  .success-line{background:rgba(0,200,120,0.08);padding:8px;border-radius:8px;color:#bff3d2;font-weight:800;margin-top:10px;display:none}

  /* floating bottom nav for mobile visuals */
  .bottom-nav{position:fixed;left:50%;transform:translateX(-50%);bottom:16px;background:rgba(0,0,0,0.45);padding:8px;border-radius:28px;display:flex;gap:14px;z-index:1100}
  .bottom-nav .item{color:var(--muted);font-weight:800;padding:6px 10px;border-radius:12px;cursor:pointer}
  .bottom-nav .item.active{color:#fff;background:rgba(255,255,255,0.03)}
  footer{margin-top:18px;text-align:center;color:var(--muted);font-size:13px}

  /* small helpers */
  .pill {padding:6px 8px;border-radius:10px;background:rgba(255,255,255,0.02);border:1px solid var(--glass-border);font-weight:800}
  a.buy-btn-link{text-decoration:none}
</style>
</head>
<body>

<div class="page">
  <header class="site-header">
    <div class="brand">
      <div class="logo-text">GURU TECH LAB</div>
      <div class="tag">Digital Services</div>
    </div>
    <nav class="top-nav">
      <a href="index.html">Home</a>
      <a href="website.html">Website</a>
      <a href="bots.html">Bots</a>
      <a href="branding.html">Branding</a>
    </nav>
  </header>

  <section class="hero">
    <div class="left">
      <h1>OFFICIAL GURU SOCIAL MEDIA BOOSTING ðŸ”¥</h1>
      <p>Tap a category to view full packages. Purchase by pressing the Buy button â€” pay using Till <strong>3420564</strong>.</p>
    </div>
    <div>
      <div class="pill">Till: <strong>3420564</strong></div>
    </div>
  </section>

  <!-- Cards -->
  <div class="cards" role="list">

    <!-- IG Followers -->
    <div class="card" role="listitem" aria-labelledby="svc-igf">
      <div style="display:flex;align-items:center;gap:10px">
        <div class="icon-box" aria-hidden="true">
          <!-- Instagram svg -->
          <svg width="40" height="40" viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <defs>
              <linearGradient id="igg" x1="0" x2="1"><stop offset="0" stop-color="#f58529"/><stop offset="1" stop-color="#dd2a7b"/></linearGradient>
            </defs>
            <rect x="2.2" y="2.2" width="19.6" height="19.6" rx="5" fill="url(#igg)"></rect>
            <circle cx="12" cy="12" r="3.6" fill="#fff" opacity="0.12"></circle>
          </svg>
        </div>
        <div class="meta">
          <div id="svc-igf" class="svc-title">IG Followers</div>
          <div class="svc-sub">Followers â€” packages & pricing</div>
        </div>
      </div>
      <div>
        <button class="view-price" data-open="modal-ig">View Prices</button>
      </div>
    </div>

    <!-- IG Likes -->
    <div class="card">
      <div style="display:flex;align-items:center;gap:10px">
        <div class="icon-box">
          <!-- heart-like icon -->
          <svg width="40" height="40" viewBox="0 0 24 24" fill="none">
            <defs><linearGradient id="likeg" x1="0" x2="1"><stop offset="0" stop-color="#ffd86b"/><stop offset="1" stop-color="#ff7a2d"/></linearGradient></defs>
            <path d="M12 20s-6.5-4.35-9-7.2C-0.2 8.6 3 4 7 6.2 8.8 7.4 10.6 9 12 10.6c1.4-1.6 3.2-3.2 5-4.4 4-2.2 7.2 2.4 4 6.6-2.5 2.85-9 7.2-9 7.2z" fill="url(#likeg)"></path>
          </svg>
        </div>
        <div class="meta">
          <div class="svc-title">IG Likes</div>
          <div class="svc-sub">Per-post likes packages</div>
        </div>
      </div>
      <div>
        <button class="view-price" data-open="modal-iglikes">View Prices</button>
      </div>
    </div>

    <!-- TikTok -->
    <div class="card">
      <div style="display:flex;align-items:center;gap:10px">
        <div class="icon-box">
          <!-- tiktok svg simplified -->
          <svg width="40" height="40" viewBox="0 0 24 24" fill="none">
            <defs><linearGradient id="ttg" x1="0" x2="1"><stop offset="0" stop-color="#3bd0ff"/><stop offset="1" stop-color="#2b9cff"/></linearGradient></defs>
            <path d="M9 3v10.5A4.5 4.5 0 1 0 13.5 18V8h3.5V5H9z" fill="url(#ttg)"></path>
          </svg>
        </div>
        <div class="meta">
          <div class="svc-title">TikTok Followers & Likes</div>
          <div class="svc-sub">Followers, likes + views</div>
        </div>
      </div>
      <div>
        <button class="view-price" data-open="modal-tiktok">View Prices</button>
      </div>
    </div>

    <!-- YouTube / FB -->
    <div class="card">
      <div style="display:flex;align-items:center;gap:10px">
        <div class="icon-box">
          <!-- youtube svg -->
          <svg width="40" height="40" viewBox="0 0 24 24" fill="none">
            <defs><linearGradient id="ytg" x1="0" x2="1"><stop offset="0" stop-color="#ff5d5d"/><stop offset="1" stop-color="#ff3c00"/></linearGradient></defs>
            <path d="M3.8 7.5c-.2.9-.3 2.8-.3 2.8s-.1 1.9.3 2.8c.4 1 1.4 1.7 2.5 1.8C9 14.7 12 14.7 12 14.7s3 0 5.5-.8c1.1-.1 2.1-.8 2.5-1.8.4-.9.3-2.8.3-2.8s.1-1.9-.3-2.8c-.4-1-1.4-1.7-2.5-1.8C15 5.3 12 5.3 12 5.3s-3 0-5.5.8c-1.1.1-2.1.8-2.7 1.4z" fill="url(#ytg)"></path>
            <polygon points="10,9 16,12 10,15" fill="#fff" opacity="0.9"></polygon>
          </svg>
        </div>
        <div class="meta">
          <div class="svc-title">YouTube & Facebook</div>
          <div class="svc-sub">Subscribers, watch hours, followers</div>
        </div>
      </div>
      <div>
        <button class="view-price" data-open="modal-ytfb">View Prices</button>
      </div>
    </div>

  </div>

  <footer>
    Â© <span id="yr">2025</span> GURU TECH LAB
  </footer>
</div>

<!-- MODALS (same as your content) -->

<!-- IG followers modal -->
<div id="modal-ig-back" class="modal-backdrop" aria-hidden="true">
  <div class="modal" role="dialog" aria-modal="true" aria-labelledby="modal-ig-title">
    <button class="close-btn" data-close>&times;</button>
    <h2 id="modal-ig-title">IG Followers â€” Packages</h2>
    <p class="muted">Contact via WhatsApp to order. Prices editable in page source.</p>

    <div class="price-grid" style="margin-top:12px">
      <div class="price-block">
        <h4>Standard Followers</h4>
        <ul>
          <li>1K Followers â€” 200 <button class="buy-inline" data-package="IG â€” 1K Followers" data-price="200">Buy</button></li>
          <li>2K Followers â€” 300 <button class="buy-inline" data-package="IG â€” 2K Followers" data-price="300">Buy</button></li>
          <li>5K Followers â€” 500 <button class="buy-inline" data-package="IG â€” 5K Followers" data-price="500">Buy</button></li>
          <li>7K Followers â€” 700 <button class="buy-inline" data-package="IG â€” 7K Followers" data-price="700">Buy</button></li>
          <li>10K Followers â€” 1000 <button class="buy-inline" data-package="IG â€” 10K Followers" data-price="1000">Buy</button></li>
          <li>15K Followers â€” 1250 <button class="buy-inline" data-package="IG â€” 15K Followers" data-price="1250">Buy</button></li>
          <li>20K Followers â€” 1500 <button class="buy-inline" data-package="IG â€” 20K Followers" data-price="1500">Buy</button></li>
        </ul>
      </div>

      <div class="price-block">
        <h4>Large Orders</h4>
        <ul>
          <li>30K â€” 1800 <button class="buy-inline" data-package="IG â€” 30K" data-price="1800">Buy</button></li>
          <li>45K â€” 2400 <button class="buy-inline" data-package="IG â€” 45K" data-price="2400">Buy</button></li>
          <li>50K â€” 2900 <button class="buy-inline" data-package="IG â€” 50K" data-price="2900">Buy</button></li>
          <li>100K â€” 5000 <button class="buy-inline" data-package="IG â€” 100K" data-price="5000">Buy</button></li>
          <li>200K â€” 9800 <button class="buy-inline" data-package="IG â€” 200K" data-price="9800">Buy</button></li>
        </ul>
      </div>
    </div>

    <p style="margin-top:10px"><strong>Offer:</strong> Buy 7K+ followers and get 10K free likes</p>
  </div>
</div>

<!-- IG Likes modal -->
<div id="modal-iglikes-back" class="modal-backdrop" aria-hidden="true">
  <div class="modal">
    <button class="close-btn" data-close>&times;</button>
    <h2>IG Likes â€” Packages</h2>
    <div class="price-grid" style="margin-top:12px">
      <div class="price-block">
        <h4>1K Likes Packages</h4>
        <ul>
          <li>1 pic each 1K likes â€” 150 <button class="buy-inline" data-package="IG Likes â€” 1pic 1K" data-price="150">Buy</button></li>
          <li>2 pics each 1K likes â€” 200 <button class="buy-inline" data-package="IG Likes â€” 2pic 1K" data-price="200">Buy</button></li>
          <li>3 pics each 1K likes â€” 300 <button class="buy-inline" data-package="IG Likes â€” 3pic 1K" data-price="300">Buy</button></li>
          <li>4 pics each 1K likes â€” 350 <button class="buy-inline" data-package="IG Likes â€” 4pic 1K" data-price="350">Buy</button></li>
          <li>5 pics each 1K likes â€” 450 <button class="buy-inline" data-package="IG Likes â€” 5pic 1K" data-price="450">Buy</button></li>
          <li>10 pics each 1K likes â€” 650 <button class="buy-inline" data-package="IG Likes â€” 10pic 1K" data-price="650">Buy</button></li>
        </ul>
      </div>

      <div class="price-block">
        <h4>2K Likes Packages</h4>
        <ul>
          <li>1 pic each 2K likes â€” 200 <button class="buy-inline" data-package="IG Likes â€” 1pic 2K" data-price="200">Buy</button></li>
          <li>2 pics each 2K likes â€” 350 <button class="buy-inline" data-package="IG Likes â€” 2pic 2K" data-price="350">Buy</button></li>
          <li>3 pics each 2K likes â€” 550 <button class="buy-inline" data-package="IG Likes â€” 3pic 2K" data-price="550">Buy</button></li>
          <li>4 pics each 2K likes â€” 600 <button class="buy-inline" data-package="IG Likes â€” 4pic 2K" data-price="600">Buy</button></li>
          <li>5 pics each 2K likes â€” 650 <button class="buy-inline" data-package="IG Likes â€” 5pic 2K" data-price="650">Buy</button></li>
          <li>10 pics each 2K likes â€” 900 <button class="buy-inline" data-package="IG Likes â€” 10pic 2K" data-price="900">Buy</button></li>
        </ul>
      </div>
    </div>
  </div>
</div>

<!-- TikTok modal -->
<div id="modal-tiktok-back" class="modal-backdrop" aria-hidden="true">
  <div class="modal">
    <button class="close-btn" data-close>&times;</button>
    <h2>TikTok Followers & Likes â€” Packages</h2>
    <div class="price-grid" style="margin-top:12px">
      <div class="price-block">
        <h4>Followers Offer</h4>
        <ul>
          <li>500 Followers â€” 300 <button class="buy-inline" data-package="TT â€” 500 Followers" data-price="300">Buy</button></li>
          <li>1K Followers â€” 500 <button class="buy-inline" data-package="TT â€” 1K Followers" data-price="500">Buy</button></li>
          <li>2K Followers â€” 1000 <button class="buy-inline" data-package="TT â€” 2K Followers" data-price="1000">Buy</button></li>
          <li>5K Followers â€” 1650 <button class="buy-inline" data-package="TT â€” 5K Followers" data-price="1650">Buy</button></li>
          <li>7K Followers â€” 2000 <button class="buy-inline" data-package="TT â€” 7K Followers" data-price="2000">Buy</button></li>
          <li>10K Followers â€” 3500 <button class="buy-inline" data-package="TT â€” 10K Followers" data-price="3500">Buy</button></li>
          <li>20K Followers â€” 6550 <button class="buy-inline" data-package="TT â€” 20K Followers" data-price="6550">Buy</button></li>
        </ul>
      </div>

      <div class="price-block">
        <h4>Likes (includes views)</h4>
        <ul>
          <li>500 likes + 2K views â€” 300 <button class="buy-inline" data-package="TT Likes â€” 500" data-price="300">Buy</button></li>
          <li>1K likes + 5K views â€” 550 <button class="buy-inline" data-package="TT Likes â€” 1K" data-price="550">Buy</button></li>
          <li>2.5K likes + 10K views â€” 700 <button class="buy-inline" data-package="TT Likes â€” 2.5K" data-price="700">Buy</button></li>
          <li>3K likes + 20K views â€” 880 <button class="buy-inline" data-package="TT Likes â€” 3K" data-price="880">Buy</button></li>
          <li>5K likes + 50K views â€” 1300 <button class="buy-inline" data-package="TT Likes â€” 5K" data-price="1300">Buy</button></li>
          <li>7K likes + 80K views â€” 1500 <button class="buy-inline" data-package="TT Likes â€” 7K" data-price="1500">Buy</button></li>
          <li>10K likes + 150K views â€” 2250 <button class="buy-inline" data-package="TT Likes â€” 10K" data-price="2250">Buy</button></li>
          <li>17K likes + 400K views â€” 3200 <button class="buy-inline" data-package="TT Likes â€” 17K" data-price="3200">Buy</button></li>
        </ul>
        <p class="muted" style="margin-top:8px"><strong>Extras:</strong> 1K likes â€“ 50 bob â€¢ 1K views â€“ 40 bob</p>
      </div>
    </div>
  </div>
</div>

<!-- YouTube & FB modal -->
<div id="modal-ytfb-back" class="modal-backdrop" aria-hidden="true">
  <div class="modal">
    <button class="close-btn" data-close>&times;</button>
    <h2>YouTube / Facebook â€” Packages</h2>
    <div class="price-grid" style="margin-top:12px">
      <div class="price-block">
        <h4>YouTube Subscribers</h4>
        <ul>
          <li>100 subs â€” 200 <button class="buy-inline" data-package="YT â€” 100 subs" data-price="200">Buy</button></li>
          <li>200 subs â€” 350 <button class="buy-inline" data-package="YT â€” 200 subs" data-price="350">Buy</button></li>
          <li>300 subs â€” 500 <button class="buy-inline" data-package="YT â€” 300 subs" data-price="500">Buy</button></li>
          <li>1K subs â€” 1100 <button class="buy-inline" data-package="YT â€” 1K subs" data-price="1100">Buy</button></li>
          <li>5K subs â€” 5100 <button class="buy-inline" data-package="YT â€” 5K subs" data-price="5100">Buy</button></li>
        </ul>
        <p class="muted">Free 2K views for purchases above 1K subs</p>
      </div>
      <div class="price-block">
        <h4>Facebook & Watch Hours</h4>
        <ul>
          <li>FB 1K followers â€” 350 <button class="buy-inline" data-package="FB â€” 1K followers" data-price="350">Buy</button></li>
          <li>FB 5K followers â€” 1100 <button class="buy-inline" data-package="FB â€” 5K followers" data-price="1100">Buy</button></li>
          <li>YT 1K hours â€” 1250 <button class="buy-inline" data-package="YT Hours â€” 1K" data-price="1250">Buy</button></li>
          <li>YT 2K hours â€” 2300 <button class="buy-inline" data-package="YT Hours â€” 2K" data-price="2300">Buy</button></li>
        </ul>
        <p class="muted" style="margin-top:8px"><strong>Instant delivery â€¢ Non-drop</strong></p>
      </div>
    </div>
  </div>
</div>

<!-- Payment popup (floating glass) -->
<div id="pay-modal-back" class="modal-backdrop" aria-hidden="true">
  <div class="modal pay-card" role="dialog" aria-modal="true" aria-labelledby="pay-title">
    <button class="close-btn" data-close>&times;</button>
    <h3 id="pay-title" style="color:var(--accent);margin-top:0">Complete Payment</h3>

    <div style="margin-top:8px" class="muted">Pay using M-PESA Till <strong>3420564</strong>. After payment press "I've Paid â€” Notify" to open WhatsApp with your details.</div>

    <div style="margin-top:12px">
      <label>Package</label>
      <div id="pay-package" style="font-weight:900;margin:6px 0">â€”</div>
    </div>

    <div>
      <label>Amount (KES)</label>
      <div id="pay-amount" style="font-weight:900;margin:6px 0">â€”</div>
    </div>

    <div class="pay-row" style="margin-top:8px">
      <div style="flex:1">
        <label>Your phone (07XXXXXXXX)</label>
        <input id="pay-phone" type="tel" placeholder="07XXXXXXXX" />
      </div>
    </div>

    <div class="pay-row">
      <div style="flex:1">
        <label>Username / Account (optional)</label>
        <input id="pay-account" type="text" placeholder="Instagram / TikTok / YouTube" />
      </div>
    </div>

    <div style="margin-top:10px">
      <button id="paid-notify" class="pay-btn">I've Paid â€” Notify</button>
    </div>

    <div id="pay-info" class="muted" style="margin-top:10px">Till: <strong>3420564</strong> â€” AKIDA RAJAB</div>

    <div id="pay-success" class="success-line" role="status" aria-live="polite">Payment verified â€” opening WhatsAppâ€¦</div>
  </div>
</div>

<script>
  // Year
  document.getElementById('yr').textContent = new Date().getFullYear();

  // Utilities - modal open/close
  function openModal(id) {
    const back = document.getElementById(id + '-back');
    if (!back) return;
    back.classList.add('open');
    back.setAttribute('aria-hidden','false');
    // focus first close button for accessibility
    setTimeout(()=> {
      const close = back.querySelector('[data-close]');
      if (close) close.focus();
    },50);
    document.body.style.overflow = 'hidden';
  }
  function closeModalBack(back) {
    if (!back) return;
    back.classList.remove('open');
    back.setAttribute('aria-hidden','true');
    document.body.style.overflow = '';
  }

  // hook view-price buttons
  document.querySelectorAll('.view-price').forEach(btn=>{
    btn.addEventListener('click', function(){
      const id = this.getAttribute('data-open');
      if (!id) return;
      openModal(id);
    });
  });

  // hook close buttons and backdrop clicks
  document.querySelectorAll('.modal-backdrop').forEach(back=>{
    back.addEventListener('click', (e)=>{
      // close when clicking the dark backdrop (not the modal itself)
      if (e.target === back) closeModalBack(back);
    });
    const close = back.querySelector('[data-close]');
    if (close) close.addEventListener('click', ()=> closeModalBack(back));
  });

  // Esc to close
  document.addEventListener('keydown', (e)=>{
    if (e.key === 'Escape') {
      document.querySelectorAll('.modal-backdrop.open').forEach(b=> closeModalBack(b));
    }
  });

  // When a buy-inline is clicked: open pay modal and populate package + amount
  const payModalBack = document.getElementById('pay-modal-back');
  const payPackageEl = document.getElementById('pay-package');
  const payAmountEl = document.getElementById('pay-amount');
  const payPhoneEl = document.getElementById('pay-phone');
  const payAccountEl = document.getElementById('pay-account');
  const paidNotifyBtn = document.getElementById('paid-notify');
  const paySuccess = document.getElementById('pay-success');

  function openPayModal(pkg, price) {
    payPackageEl.textContent = pkg || 'Selected Package';
    payAmountEl.textContent = (price ? price + ' KES' : 'â€”');
    payPhoneEl.value = ''; payAccountEl.value = '';
    paySuccess.style.display = 'none';
    payModalBack.classList.add('open');
    payModalBack.setAttribute('aria-hidden','false');
    document.body.style.overflow = 'hidden';
    // focus phone
    setTimeout(()=> payPhoneEl.focus(), 80);
  }

  document.querySelectorAll('.buy-inline').forEach(b=>{
    b.addEventListener('click', function(e){
      const pkg = this.getAttribute('data-package') || this.dataset.package;
      const price = this.getAttribute('data-price') || this.dataset.price;
      openPayModal(pkg, price);
    });
  });

  // Close pay modal via its close buttons
  payModalBack.querySelectorAll('[data-close]').forEach(btn=>{
    btn.addEventListener('click', ()=> {
      closeModalBack(payModalBack);
    });
  });

  // Validate phone (07xxxxxxxx)
  function normalizePhone(input) {
    if (!input) return null;
    let v = input.trim();
    // allow +2547..., 07..., 2547...
    if (v.startsWith('+')) v = v.slice(1);
    if (v.startsWith('254') && v.length === 12) {
      // OK
    } else if (v.startsWith('07') && v.length === 10) {
      v = '254' + v.slice(1);
    } else if (v.startsWith('7') && v.length === 9) {
      v = '254' + v;
    }
    // final check
    if (/^2547\d{8}$/.test(v)) return v;
    return null;
  }

  // "I've Paid â€” Notify" handler:
  // - show simulated verification, store a small balance, then open WhatsApp with prefilled message
  paidNotifyBtn.addEventListener('click', function(){
    const pkgText = payPackageEl.textContent || 'Selected Package';
    const amountText = payAmountEl.textContent.replace(/\s*KES\s*$/i,'') || '';
    const phoneRaw = payPhoneEl.value.trim();
    const phoneNorm = normalizePhone(phoneRaw);
    const acc = payAccountEl.value.trim();

    if (!phoneRaw) { alert('Enter your phone (07XXXXXXXX) so we can confirm your payment.'); payPhoneEl.focus(); return; }
    if (!phoneNorm) { alert('Use phone like 07XXXXXXXX or +2547XXXXXXXX.'); payPhoneEl.focus(); return; }
    if (!amountText) { alert('Invalid amount.'); return; }

    // Show verifying UI
    paySuccess.style.display = 'block';
    paySuccess.textContent = 'Verifying paymentâ€¦';

    // Simulated verification delay (client-side)
    setTimeout(()=> {
      // mark local balance (simple local storage)
      const BAL_KEY = 'gtm_balance';
      const prev = parseFloat(localStorage.getItem(BAL_KEY) || '0');
      const added = parseFloat(amountText) || 0;
      const newBal = Math.round((prev + added) * 100) / 100;
      localStorage.setItem(BAL_KEY, String(newBal));

      paySuccess.textContent = 'Payment verified â€” opening WhatsAppâ€¦';

      // Build WhatsApp message
      const ownerWa = '254763986398';
      const userPhoneDisplay = phoneRaw;
      const accountPart = acc ? ('Account/Username: ' + acc + '\\n') : '';
      const message = encodeURIComponent(
        'Hello, I have paid.\\n' +
        'Service: ' + pkgText + '\\n' +
        'Amount: KES ' + amountText + '\\n' +
        accountPart +
        'Customer phone: ' + userPhoneDisplay + '\\n' +
        'Till: 3420564 â€” AKIDA RAJAB\\n' +
        'Transaction ID: (enter here)'
      );

      // open WhatsApp (new tab)
      const waUrl = 'https://wa.me/' + ownerWa + '?text=' + message;
      // Small delay so user sees success then open WhatsApp
      setTimeout(()=> {
        // open in new tab/window
        window.open(waUrl, '_blank');

        // close pay modal
        closeModalBack(payModalBack);

        // optional: show a toast or console
        console.log('Opened WhatsApp with message for', pkgText, amountText);
      }, 900);

    }, 1200);
  });

  // If user opens raw package modals, allow clicking backdrop close
  // (already handled by generic modal handler above)

  // Keyboard accessibility: focus first close on open (handled earlier)

  // Load previous balance if you want to show it elsewhere (not visible on this page)
  // e.g. console log for quick check
  (function(){ const b = parseFloat(localStorage.getItem('gtm_balance')||'0'); if (b>0) console.log('Saved balance:', b); })();

  // Optional: intercept native anchor "Buy / Contact" from other places: not needed here

  // Prevent pinch-zoom and double-tap zoom on mobile already set via viewport meta above
</script>
</body>
</html>
